<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#a684ff" />
  <title>DailyMyDay</title>

  <!-- OpenAI 프록시 (네 Cloudflare Workers 주소로 교체 가능) -->
  <meta name="proxy-url" content="https://apikey.wldjs6509.workers.dev">

  <!-- 캐시버스터 v=rev3는 수정시 숫자만 올려주면 됨 -->
  <link rel="stylesheet" href="styles.css?v=rev10">
<script src="app.js?v=rev10"></script>

</head>
<body>
  <div class="app">
    <header class="hdr">
      <div class="brand">DailyMyDay</div>
      <div class="today-pill" id="todayPill"></div>
    </header>

    <!-- 스크롤 컨테이너 (키보드 대응) -->
    <main class="chat-list">
      <!-- ====== VIEWS ====== -->
      <!-- 1) 캘린더 -->
      <section id="viewCalendar" class="view active">
        <section class="card">
          <div class="monthbar" style="display:flex;align-items:center;justify-content:space-between;margin-bottom:8px">
            <div class="nav" style="display:flex;gap:8px">
              <button class="btn" id="prevMonth" type="button"> ◀︎ </button>
              <button class="btn" id="nextMonth" type="button"> ▶︎ </button>
            </div>
            <div><strong id="monthLabel">2025-10</strong></div>
          </div>
          <div class="calendar" id="calendarHead">
            <div class="dow">일</div><div class="dow">월</div><div class="dow">화</div>
            <div class="dow">수</div><div class="dow">목</div><div class="dow">금</div><div class="dow">토</div>
          </div>
          <div class="calendar" id="calendarGrid" style="margin-top:6px"></div>
          
        </section>
      </section>

      <!-- 2) 감정/칭찬 -->
      <section id="viewMood" class="view">
        <section class="card">
          <h2>오늘 감정</h2>
          <div class="moods" id="moodGrid" style="margin:8px 0 6px"></div>
         
        </section>
        <section class="card">
          <h2>오늘의 칭찬</h2>
          <input id="praise" type="text" placeholder=" ~칭찬한다!" maxlength="80" />
          <div class="row" style="margin-top:10px">
            <button class="btn primary grow" id="nextToDiary" type="button">다음</button>
          </div>
        </section>
      </section>

      <!-- 3) 일기 -->
      <section id="viewDiary" class="view">
        <section class="card">
          <h2 id="editorTitle">오늘(—) 일기</h2>
          <div style="margin-top:8px">
            <label class="muted">하루 일기</label>
            <textarea id="diary" placeholder="하루를 기록해보세요."></textarea>
            <div class="counter"><span id="charCount">0</span>자</div>
          </div>
          <div class="row" style="margin-top:10px">
            <button class="btn primary grow" id="saveBtn" type="button">저장</button>
            <button class="btn grow" id="summBtn" type="button">AI 요약</button>
            <button class="btn grow" id="delBtn" type="button" style="color:var(--danger);border-color:#ffd4d4;background:#fff5f5">기록 삭제</button>
          </div>

          <div class="entry" id="summaryBox" style="display:none;margin-top:10px">
            <div class="meta"><span class="chip">AI 요약</span><span id="summaryTime" class="muted"></span></div>
            <div id="summaryText" style="margin-top:6px;white-space:pre-wrap"></div>
          </div>
        </section>
      </section>

      <!-- 4) 기록 + 통계 -->
      <section id="viewRecords" class="view">
        <section class="card">
          <h2>기록 & 통계</h2>
          <div class="stats" id="statsBox" style="margin-bottom:10px"></div>
          <div id="entries"></div>
        </section>
      </section>
      <!-- ====== /VIEWS ====== -->
    </main>
  </div>

  <!-- 하단 고정 탭바 (복구) -->
  <div class="dock">
    <div class="tabs">
      <button class="tabbtn active" data-tab="Calendar" type="button">캘린더</button>
      <button class="tabbtn" data-tab="Mood" type="button">감정</button>
      <button class="tabbtn" data-tab="Diary" type="button">일기</button>
      <button class="tabbtn" data-tab="Records" type="button">기록·통계</button>
    </div>
  </div>

  <script src="app.js?v=rev3"></script>
</body>
</html>


